{"ast":null,"code":"import fetch from 'isomorphic-fetch';\nconst API_URL = 'http://127.0.0.1:8000/';\nexport default (({\n  query,\n  variables\n}) => {\n  const body = {\n    query,\n    variables\n  };\n  const apiConfig = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json' // Authorization: token ? `JWT ${token}` : null,\n\n    },\n    body: JSON.stringify(body)\n  };\n  return fetch(API_URL, apiConfig).then(function (response) {\n    const contentType = response.headers.get('content-type');\n\n    if (response.ok) {\n      if (contentType && contentType.indexOf('application/json') !== -1) {\n        return response.json().then(json => json);\n      }\n\n      if (contentType && contentType.indexOf('text') !== -1) {\n        return response.text().then(text => text);\n      }\n\n      return response;\n    }\n\n    console.error(`Response status ${response.status} during dataFetch for url ${response.url}.`);\n    throw response;\n  });\n});","map":{"version":3,"sources":["/home/shogil/Projects/templeappfrontend/utils/dataFetch.js"],"names":["fetch","API_URL","query","variables","body","apiConfig","method","headers","JSON","stringify","then","response","contentType","get","ok","indexOf","json","text","console","error","status","url"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,kBAAlB;AAGA,MAAMC,OAAO,GAAG,wBAAhB;AAEA,gBAAe,CAAC;AAAEC,EAAAA,KAAF;AAASC,EAAAA;AAAT,CAAD,KAA0B;AACrC,QAAMC,IAAI,GAAG;AACTF,IAAAA,KADS;AAETC,IAAAA;AAFS,GAAb;AAKA,QAAME,SAAS,GAAG;AACdC,IAAAA,MAAM,EAAE,MADM;AAEdC,IAAAA,OAAO,EAAE;AACL,sBAAgB,kBADX,CAEL;;AAFK,KAFK;AAMdH,IAAAA,IAAI,EAAEI,IAAI,CAACC,SAAL,CAAeL,IAAf;AANQ,GAAlB;AASA,SAAOJ,KAAK,CAACC,OAAD,EAAUI,SAAV,CAAL,CAA0BK,IAA1B,CAA+B,UAASC,QAAT,EAAmB;AACrD,UAAMC,WAAW,GAAGD,QAAQ,CAACJ,OAAT,CAAiBM,GAAjB,CAAqB,cAArB,CAApB;;AACA,QAAIF,QAAQ,CAACG,EAAb,EAAiB;AACb,UAAIF,WAAW,IAAIA,WAAW,CAACG,OAAZ,CAAoB,kBAApB,MAA4C,CAAC,CAAhE,EAAmE;AAC/D,eAAOJ,QAAQ,CAACK,IAAT,GAAgBN,IAAhB,CAAqBM,IAAI,IAAIA,IAA7B,CAAP;AACH;;AACD,UAAIJ,WAAW,IAAIA,WAAW,CAACG,OAAZ,CAAoB,MAApB,MAAgC,CAAC,CAApD,EAAuD;AACnD,eAAOJ,QAAQ,CAACM,IAAT,GAAgBP,IAAhB,CAAqBO,IAAI,IAAIA,IAA7B,CAAP;AACH;;AACD,aAAON,QAAP;AACH;;AACDO,IAAAA,OAAO,CAACC,KAAR,CAAe,mBAAkBR,QAAQ,CAACS,MAAO,6BAA4BT,QAAQ,CAACU,GAAI,GAA1F;AACA,UAAMV,QAAN;AACH,GAbM,CAAP;AAcH,CA7BD","sourcesContent":["import fetch from 'isomorphic-fetch';\n\n\nconst API_URL = 'http://127.0.0.1:8000/';\n\nexport default ({ query, variables }) => {\n    const body = {\n        query,\n        variables,\n    };\n\n    const apiConfig = {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            // Authorization: token ? `JWT ${token}` : null,\n        },\n        body: JSON.stringify(body),\n    };\n\n    return fetch(API_URL, apiConfig).then(function(response) {\n        const contentType = response.headers.get('content-type');\n        if (response.ok) {\n            if (contentType && contentType.indexOf('application/json') !== -1) {\n                return response.json().then(json => json);\n            }\n            if (contentType && contentType.indexOf('text') !== -1) {\n                return response.text().then(text => text);\n            }\n            return response;\n        }\n        console.error(`Response status ${response.status} during dataFetch for url ${response.url}.`);\n        throw response;\n    });\n};"]},"metadata":{},"sourceType":"module"}